!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var i=null,o=[],l=[],r=function(e,n,t){e.length>n-1&&e.shift(),e.push(t);var i=e.reduce(function(e,n){return e+n},0)/e.length;return parseInt(i,10).toString()},a=0,c=[],u=!1,f=15,v=function(){var e=null;u?e=m():g(),u=!u,a++;var n=L();e&&(e.paintTime=n,function(e){var n="\n        Cell spaces: ".concat(e.totalCells," |\n        Living: ").concat(e.livingCells," (").concat(Math.floor(e.livingCells/e.totalCells*100),"%) |\n        Generation: ").concat(e.generation," |\n        Paint speed: ").concat(r(o,20,e.paintTime)," ms |\n        Calculation speed: ").concat(r(l,20,e.calcTime)," ms\n    ");i&&(i.innerHTML=n)}(e))},d=function(e,n,t){return{row:e,column:n,alive:t,willBeAlive:t,neighbors:0}},s=function(){c=[];for(var e=0;e<h;e++)for(var n=0;n<p;n++){var t=Math.random()<f/100,i=d(e,n,t);c.push(i)}},m=function(){var e=0,n=performance.now();return c.forEach(function(n){n.neighbors=function(e){var n=0,t=e.row*p+e.column,i=c[t-p],o=c[t-(p-1)],l=c[t-(p+1)],r=c[t+1],a=c[t-1],u=c[t+p],f=c[t+(p+1)],v=c[t+(p-1)];return void 0!==i&&i.alive&&n++,void 0!==l&&l.alive&&n++,void 0!==o&&o.alive&&n++,void 0!==r&&r.alive&&n++,void 0!==a&&a.alive&&n++,void 0!==u&&u.alive&&n++,void 0!==f&&f.alive&&n++,void 0!==v&&v.alive&&n++,n}(n),n.alive&&n.neighbors<2?n.willBeAlive=!1:!n.alive||2!==n.neighbors&&3!==n.neighbors?n.alive&&n.neighbors>3?n.willBeAlive=!1:n.alive||3!==n.neighbors||(n.willBeAlive=!0):e++}),{livingCells:e,generation:a,totalCells:c.length,calcTime:performance.now()-n,paintTime:0}},g=function(){c.forEach(function(e){e.alive=e.willBeAlive})},h=0,p=0,E=6,M=0,b=0,w=null,y=null,L=function(){var e=performance.now();return void 0!==y&&y.clearRect(0,0,M,b),c.forEach(function(e){var n=Math.floor(e.column*E)+1,t=Math.floor(e.row*E)+1,i=B(e);i&&(y.fillStyle=i,y.fillRect(n,t,E-1,E-1))}),performance.now()-e},I=function(e,n){var t=Math.floor(n/E),i=Math.floor(e/E);!function(e){void 0!==c[e]&&(c[e].alive=!0,c[e].willBeAlive=!0)}((t+1)*p-2*p+i-1)},B=function(e){return e.alive&&!e.willBeAlive?"#b6542c":e.alive&&3===e.neighbors?"#006040":e.alive?"#008000":!(e.alive||!e.willBeAlive)&&"#0057aa"},S=35,T=null,x=null,C=null,A=null,P=null,j=null,H=null,O=function(){W()},_=function(){J()?(q(),T&&(T.innerText="Start")):(F(S),T&&(T.innerText="Pause"))},k=function(){if(A instanceof HTMLSelectElement){var e=parseInt(A.options[A.selectedIndex].value,10);S=e,q(),F(S)}},G=function(){P instanceof HTMLSelectElement&&(!function(e){E=e}(parseInt(P.options[P.selectedIndex].value,10)),W())},R=function(){j instanceof HTMLSelectElement&&(!function(e){f=e}(parseInt(j.options[j.selectedIndex].value,10)),W())},X=function(){!0},Y=function(){!1},z=function(e){if(X&&(e.preventDefault(),e.target instanceof HTMLElement)){var n=e.target.getBoundingClientRect(),t=0,i=0;e instanceof MouseEvent?(t=e.clientX,i=e.clientY):(t=e.touches[0].clientX,i=e.touches[0].clientY);var o=Math.floor(t-n.left),l=Math.floor(i-n.top);I(o,l)}};t.d(n,"initGame",function(){return W}),t.d(n,"pauseLife",function(){return q}),t.d(n,"startLife",function(){return F}),t.d(n,"isItAlive",function(){return J});var D=null,W=function(){q(),(w=document.getElementById("game-canvas"))instanceof HTMLCanvasElement&&(y=w.getContext("2d",{alpha:!1})),M=Math.floor(.95*window.innerWidth),b=Math.floor(.8*window.innerHeight),y.canvas.width=M,y.canvas.height=b,h=Math.floor(b/E),p=Math.floor(M/E),a=0,s(),i=document.getElementById("statistics"),T=document.getElementById("toggleLife"),x=document.getElementById("createGeneration"),C=document.getElementById("reset"),A=document.getElementById("generationSpeedSelector"),P=document.getElementById("gameCellSizeSelector"),j=document.getElementById("gamePercentageAliveSelector"),H=document.getElementById("game-canvas"),T&&(T.addEventListener("click",_),T.innerText="Pause"),x&&x.addEventListener("click",v),C&&C.addEventListener("click",O),A&&A.addEventListener("change",k),P&&P.addEventListener("change",G),j&&j.addEventListener("change",R),H&&(H.addEventListener("mousedown",X),H.addEventListener("touchstart",X),H.addEventListener("mouseup",Y),H.addEventListener("touchend",Y),H.addEventListener("mousemove",z),H.addEventListener("touchmove",z)),F(S)},q=function(){null!==D&&(console.log("Pause life"),clearInterval(D),D=null)},F=function(e){console.log("Start life"),D=setInterval(v,e)},J=function(){return null!==D};W()}]);